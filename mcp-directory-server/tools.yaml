sources:
  directory:
    kind: postgres
    host: 35.223.35.223
    port: 5432
    database: residents
    user: springfield
    password: b2zca-EoujGvjRwcg9UW
tools:
  search-by-name:
    kind: postgres-sql
    source: directory
    description: Search residents by name
    parameters:
      - name: name
        type: string
        description: The name of the resident to search for (can match first, middle, or last name)
    statement: | 
      SELECT * FROM residents 
      WHERE first_name ILIKE CONCAT('%', $1, '%')
      OR last_name ILIKE CONCAT('%', $1, '%')
      OR middle_name ILIKE CONCAT('%', $1, '%')
      ;
  search-by-age:
    kind: postgres-sql
    source: directory
    description: Get residents by age range
    parameters:
      - name: min_age
        type: integer
        description: Minimum age of residents to return
      - name: max_age
        type: integer
        description: Maximum age of residents to return
    statement: | 
      SELECT * FROM residents 
      WHERE age >= $1 AND age <= $2
      ;
